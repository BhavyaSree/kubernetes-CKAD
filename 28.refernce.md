

### Persistent volumes and persistent volume claims

To inorder to bind pvc with a pv, accessMode and storageClassName of both should be same.

PV:
```yaml
spec:
 hostPath:  
   path:    
```

## PODS

### labels

show all the labels of pods   
`kubectl get pods --show-labels`  

Change the labels of pod 'nginx' to be app=v2  
`kubectl label pod nginx app=v2 --overwrite`  

Get the label 'app' for the pods  
`kubectl get pods --label-columns=app`   

Get only the 'app=v2' pods    
`kubectl get pods --selector=app=v2`  

Remove the 'app' label from the nginx pod  
`kubectl label pod nginx app-`  

Create a pod that will be deployed to a Node that has the label 'accelerator=nvidia-tesla-p100'  
`First add the label to the node`  
`kubectl label node <nodename> accelerator=nvidia-tesla-p100`   
`use the 'nodeSelector' property on the Pod YAML. under nodeSElector give the label.`  

To know where to write nodeSelector in the yaml file.   
`kubectl explain po.spec`  

Annotate pod nginx with "description='my description'" value  
`kubectl annotate pod nginx description='my description'`  

check the annotations for pod nginx  
`kubectl describe pod nginx | grep -i 'annotations'`  

remove the annotation  
`kubectl annotate pod description-`  

check how the deployment rollout is going  
`kubectl rollout status deploy <deploymentname>`  

check the rollout history  
`kubectl rollout history deploy <deploymentname>`  

undo the latest rollout   
`kubectl rollout undo deploy <deploymentname>`  

Return the deployment to the second revision (number 2)  
`kubectl rollout undo deploy <deploymentname> --to-revision=2`  

Check the details of the fourth revision   
`kubectl rollout history deploy <deploymentname>  --revision=4`  

Autoscale the deployment, pods between 5 and 10, targetting CPU utilization at 80%   
`kubectl autoscale deploy <deploymentname> --min=5 --max=10 --cpu-percent=80`  

pause the rollout of the deployment  
`kubectl rollout pause deploy <deploymentname>`  






